<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLATINUM ROYAL | Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© ğŸ‘‘</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap');
        
        :root { --gold: #d4af37; --bg: #000; --card: #111; }

        body { 
            background: var(--bg); color: #fff; font-family: 'Cairo', sans-serif; 
            margin: 0; padding: 0; overflow-x: hidden; text-align: center;
        }

        /* Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±ØµÙŠØ¯ */
        .top-nav {
            padding: 30px 20px; background: linear-gradient(to bottom, #151515, #000);
            border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 100;
        }
        .balance-title { font-size: 14px; color: #888; letter-spacing: 1px; }
        .main-balance { 
            font-size: 55px; color: var(--gold); font-weight: 900; 
            text-shadow: 0 0 20px rgba(212,175,55,0.4); margin: 5px 0;
        }
        #pNameDisp { font-size: 16px; color: #555; border: 1px solid #222; padding: 4px 15px; border-radius: 20px; display: inline-block; }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        .games-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 25px;
            padding: 30px; max-width: 500px; margin: 0 auto;
        }

        .game-item {
            position: relative; background: var(--card); border-radius: 30px;
            padding: 35px 10px; border: 1px solid #1a1a1a;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer; overflow: hidden;
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø­Ø±ÙƒØ© Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
        .game-item i {
            font-size: 65px; display: block; margin-bottom: 15px;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5));
            animation: float 3s ease-in-out infinite;
        }

        .game-item:nth-child(2) i { animation-delay: 0.5s; }
        .game-item:nth-child(3) i { animation-delay: 1s; }
        .game-item:nth-child(4) i { animation-delay: 1.5s; }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .game-item b { font-size: 18px; color: var(--gold); display: block; letter-spacing: 1px; }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¡ Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù…Ø³ */
        .game-item:active { transform: scale(0.9); border-color: var(--gold); background: #1a1a1a; }
        .game-item::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(212,175,55,0.1) 0%, transparent 70%);
            opacity: 0; transition: 0.3s;
        }
        .game-item:hover::after { opacity: 1; }

        /* Ø´Ø±ÙŠØ· Ø³ÙÙ„ÙŠ ÙØ®Ù… */
        .footer-bar { padding: 40px 20px; color: #444; font-size: 12px; }
        .status-dot { width: 8px; height: 8px; background: #00ff44; border-radius: 50%; display: inline-block; margin-right: 5px; box-shadow: 0 0 10px #00ff44; }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
        #gameFrame {
            position: fixed; inset: 0; background: #000; z-index: 200;
            display: none; flex-direction: column;
        }
        .close-bar {
            padding: 15px; background: #111; color: var(--gold);
            font-weight: bold; text-align: right; border-bottom: 2px solid var(--gold); cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="top-nav">
        <div class="balance-title">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠ Ø§Ù„Ù…ØªØ§Ø­</div>
        <div class="main-balance" id="totalBal">0</div>
        <div id="pNameDisp">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨...</div>
    </div>

    <div style="margin-top: 20px; color: var(--gold); font-weight: bold;">ğŸ•¹ï¸ Ø§Ø®ØªØ± Ø¨ÙˆØ§Ø¨ØªÙƒ Ù„Ù„Ø±Ø¨Ø­</div>

    <div class="games-grid">
        <div class="game-item" onclick="launchGame('wheel.html')">
            <i>ğŸ¡</i>
            <b>Ø¹Ø¬Ù„Ø© Ø§Ù„Ù…Ù„ÙˆÙƒ</b>
        </div>
        <div class="game-item" onclick="launchGame('mines.html')">
            <i>ğŸ’£</i>
            <b>Ù…Ù†Ø¬Ù… Ø§Ù„Ø°Ù‡Ø¨</b>
        </div>
        <div class="game-item" onclick="launchGame('plane.html')">
            <i>ğŸš€</i>
            <b>Ø·ÙŠØ§Ø±Ø© Ø§Ù„Ø­Ø¸</b>
        </div>
        <div class="game-item" onclick="launchGame('battle.html')">
            <i>âš”ï¸</i>
            <b>Ø³Ø§Ø­Ø© Ø§Ù„Ù‚ØªØ§Ù„</b>
        </div>
    </div>

    <div class="footer-bar">
        <span class="status-dot"></span> Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø³ÙˆØ±ÙŠ ÙŠØ¹Ù…Ù„ Ø¨ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ©<br>
        PLATINUM ROYAL Â© 2026
    </div>

    <div id="gameFrame">
        <div class="close-bar" onclick="closeGame()"> âœ– Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ù†ØµØ© </div>
        <iframe id="iframe" src="" style="width: 100%; height: 100%; border: none;"></iframe>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://user-project-6c3bb-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‡ÙˆÙŠØ© Ø§Ù„Ù„Ø§Ø¹Ø¨
        const pId = localStorage.getItem('pId') || "PL" + Math.floor(Math.random()*99999);
        localStorage.setItem('pId', pId);

        // Ø±Ø¨Ø· Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø§Ø³Ù…
        db.ref('players_logs/' + pId).on('value', (s) => {
            if (s.exists()) {
                const data = s.val();
                document.getElementById('totalBal').innerText = Number(data.score).toLocaleString();
                document.getElementById('pNameDisp').innerText = "ğŸ‘¤ " + (data.name || "Ù„Ø§Ø¹Ø¨ Ù…Ù„ÙƒÙŠ");
            } else {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø§Ø¹Ø¨ Ø¬Ø¯ÙŠØ¯
                db.ref('players_logs/' + pId).set({ name: "Ù„Ø§Ø¹Ø¨ Ø¬Ø¯ÙŠØ¯", score: 0, gameMode: "normal" });
            }
        });

        function launchGame(file) {
            // Ù†Ù…Ø±Ø± Ø§Ù„Ù€ pId Ù„Ù„Ø¹Ø¨Ø© Ø¹Ø´Ø§Ù† ØªØ¹Ø±Ù Ù…ÙŠÙ† Ø§Ù„Ù„Ø§Ø¹Ø¨
            document.getElementById('iframe').src = file + "?pId=" + pId;
            document.getElementById('gameFrame').style.display = 'flex';
        }

        function closeGame() {
            document.getElementById('gameFrame').style.display = 'none';
            document.getElementById('iframe').src = ""; // ØªÙØ±ÙŠØº Ø§Ù„Ø±Ø§Ù…
        }
    </script>
</body>
</html>
