<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platinum Royal | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --gold: #ffca28; --green: #00ff44; --red: #ff4444; --bg: #0a0a0a; --card: #161616; }
        body { background: var(--bg); color: white; text-align: center; font-family: sans-serif; margin: 0; overflow-x: hidden; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù€ 50 Ø´Ø®Øµ Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .live-bar { background: #111; color: var(--green); padding: 5px; font-size: 11px; white-space: nowrap; overflow: hidden; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 2000; }
        .scrolling-text { display: inline-block; animation: scroll 30s linear infinite; }
        @keyframes scroll { from { transform: translateX(100%); } to { transform: translateX(-100%); } }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header { background: #000; padding: 15px; border-bottom: 2px solid var(--gold); }
        #balDisp { font-size: 2.5rem; color: var(--gold); font-weight: bold; font-family: monospace; }
        .attractive-num { color: var(--green); font-size: 1.3rem; font-weight: bold; margin-top: 5px; text-shadow: 0 0 10px #00ff44; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„Ø´Ø¨ÙƒØ© */
        .section-title { color: var(--gold); margin: 20px 0 10px; font-weight: bold; border-right: 4px solid var(--gold); padding-right: 10px; text-align: right; margin-right: 15px; }
        .games-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 15px 20px; }
        .game-card { background: var(--card); border: 1px solid #333; padding: 20px; border-radius: 20px; cursor: pointer; }
        .game-card i { font-size: 35px; display: block; margin-bottom: 10px; }

        /* Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© */
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 3000; flex-direction: column; overflow-y: auto; }
        .game-header { padding: 15px; background: #111; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .bet-panel { background: #111; padding: 10px; display: flex; justify-content: center; gap: 8px; }
        .bet-btn { background: #222; border: 1px solid var(--gold); color: white; padding: 10px; border-radius: 8px; flex: 1; font-size: 12px; }
        .bet-btn.active { background: var(--gold); color: black; font-weight: bold; }

        /* Ø³ØªØ§ÙŠÙ„ Ø®Ø§Øµ Ù„Ù„Ø·ÙŠØ§Ø±Ø© */
        #planeArea { height: 180px; background: #000; margin: 15px; border-radius: 15px; position: relative; overflow: hidden; border: 1px solid #333; }
        #multiplier { font-size: 3.5rem; color: var(--gold); margin-top: 40px; font-weight: bold; }
        
        /* Ø³ØªØ§ÙŠÙ„ Ø®Ø§Øµ Ù„Ø³Ø§Ø­Ø© Ø§Ù„Ù‚ØªØ§Ù„ */
        .battle-zone { display: flex; justify-content: space-around; align-items: center; padding: 20px; }
        .fighter { font-size: 4rem; transition: 0.2s; }

        .btn-main { background: var(--gold); color: black; border: none; padding: 15px; width: 80%; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .footer-sham { background: #000; padding: 20px; border-top: 1px solid #222; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="live-bar"><div class="scrolling-text" id="liveText"></div></div>

    <div class="header">
        <div style="color: #888; font-size: 12px;">Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…Ù„ÙƒÙŠ</div>
        <div id="balDisp">0</div>
        <div class="attractive-num">Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ: 1,500,000</div>
    </div>

    <div class="section-title">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ÙØ¹Ù‘Ù„Ø©</div>
    <div class="games-grid">
        <div class="game-card" onclick="openGame('mines')"><i>ğŸ’£</i><b>Ø§Ù„Ù…Ù†Ø¬Ù… (25)</b></div>
        <div class="game-card" onclick="openGame('crash')"><i>ğŸš€</i><b>Ø§Ù„Ø·ÙŠØ§Ø±Ø©</b></div>
        <div class="game-card" onclick="openGame('battle')"><i>âš”ï¸</i><b>Ø³Ø§Ø­Ø© Ø§Ù„Ù‚ØªØ§Ù„</b></div>
        <div class="game-card" onclick="openGame('wheel')"><i>ğŸ¡</i><b>Ø§Ù„Ø¹Ø¬Ù„Ø©</b></div>
    </div>

    <div class="footer-sham">
        <h3 style="color:var(--green)">SHAM CASH</h3>
        <div id="qrcode" style="background:white; padding:10px; display:inline-block; border-radius:10px;"></div>
    </div>

    <div id="minesOverlay" class="overlay">
        <div class="game-header"><span style="color:var(--gold)">Ø§Ù„Ø±ØµÙŠØ¯: <span class="localBal">0</span></span><button onclick="closeGame('mines')">Ø®Ø±ÙˆØ¬</button></div>
        <div class="bet-panel"><button class="bet-btn active" onclick="setBet(2000,this)">2K</button><button class="bet-btn" onclick="setBet(5000,this)">5K</button></div>
        <div id="mineGrid" style="display:grid; grid-template-columns:repeat(5,1fr); gap:5px; width:90%; margin:20px auto; max-width:320px;"></div>
    </div>

    <div id="crashOverlay" class="overlay">
        <div class="game-header"><span style="color:var(--gold)">Ø§Ù„Ø·ÙŠØ§Ø±Ø©: <span class="localBal">0</span></span><button onclick="closeGame('crash')">Ø®Ø±ÙˆØ¬</button></div>
        <div id="planeArea"><div id="multiplier">1.00x</div><div id="planeImg" style="position:absolute; bottom:10px; left:10%; font-size:30px;">ğŸš€</div></div>
        <button id="btnStartCrash" class="btn-main" onclick="startCrash()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ù‡Ø§Ù†</button>
        <button id="btnCashout" class="btn-main" style="display:none; background:var(--green);" onclick="cashout()">ÙƒØ§Ø´ Ø¢ÙˆØª</button>
    </div>

    <div id="battleOverlay" class="overlay">
        <div class="game-header"><span style="color:var(--gold)">Ø§Ù„Ù‚ØªØ§Ù„: <span class="localBal">0</span></span><button onclick="closeGame('battle')">Ø®Ø±ÙˆØ¬</button></div>
        <div class="battle-zone"><div class="fighter" id="p1">ğŸ›¡ï¸</div><div style="font-size:2rem;">VS</div><div class="fighter" id="p2">ğŸ‘¹</div></div>
        <button class="btn-main" onclick="startBattle()">Ù‡Ø¬ÙˆÙ… (Ø±Ù‡Ø§Ù† 2000)</button>
    </div>

    <div id="wheelOverlay" class="overlay">
        <div class="game-header"><span style="color:var(--gold)">Ø§Ù„Ø¹Ø¬Ù„Ø©: <span class="localBal">0</span></span><button onclick="closeGame('wheel')">Ø®Ø±ÙˆØ¬</button></div>
        <div id="wheelDisp" style="font-size:5rem; margin:40px;">ğŸ¡</div>
        <button class="btn-main" onclick="spinWheel()">ØªØ¯ÙˆÙŠØ± (Ø±Ù‡Ø§Ù† 5000)</button>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://user-project-6c3bb-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        let pId = localStorage.getItem('pId') || "PLT" + Math.floor(Math.random()*99999);
        localStorage.setItem('pId', pId);
        let currentBalance = 0, selectedBet = 2000;

        function sync() {
            db.ref('players_logs/' + pId).on('value', (s) => {
                if(s.exists()){
                    currentBalance = s.val().score;
                    document.getElementById('balDisp').innerText = Number(currentBalance).toLocaleString();
                    document.querySelectorAll('.localBal').forEach(e => e.innerText = Number(currentBalance).toLocaleString());
                }
            });
        }

        function setBet(a, b) { selectedBet = a; document.querySelectorAll('.bet-btn').forEach(x => x.classList.remove('active')); b.classList.add('active'); }
        
        function openGame(id) { 
            document.getElementById(id + 'Overlay').style.display = 'flex';
            if(id === 'mines') initMines();
        }
        function closeGame(id) { document.getElementById(id + 'Overlay').style.display = 'none'; }

        // --- Ø§Ù„Ù…Ù†Ø¬Ù… ---
        function initMines() {
            const grid = document.getElementById('mineGrid'); grid.innerHTML = '';
            for(let i=0; i<25; i++) {
                let c = document.createElement('div');
                c.style = "aspect-ratio:1/1; background:#222; border:1px solid #444; border-radius:8px; display:flex; align-items:center; justify-content:center; cursor:pointer;";
                c.onclick = function() {
                    if(currentBalance < selectedBet) return;
                    let isWin = Math.random() > 0.4;
                    db.ref('players_logs/' + pId).update({ score: currentBalance - selectedBet + (isWin ? selectedBet*2 : 0) });
                    this.innerText = isWin ? "ğŸ’" : "ğŸ’£"; this.style.background = isWin ? "var(--gold)" : "var(--red)";
                };
                grid.appendChild(c);
            }
        }

        // --- Ø§Ù„Ø·ÙŠØ§Ø±Ø© ---
        let cInt, cMult = 1.0, isFly = false;
        function startCrash() {
            if(currentBalance < selectedBet) return;
            isFly = true; cMult = 1.0;
            db.ref('players_logs/' + pId).update({ score: currentBalance - selectedBet });
            document.getElementById('btnStartCrash').style.display = 'none';
            document.getElementById('btnCashout').style.display = 'block';
            cInt = setInterval(() => {
                cMult += 0.03; document.getElementById('multiplier').innerText = cMult.toFixed(2) + "x";
                if(Math.random() < 0.03) { clearInterval(cInt); document.getElementById('multiplier').innerText = "BOOM!"; setTimeout(() => { document.getElementById('btnStartCrash').style.display = 'block'; document.getElementById('btnCashout').style.display = 'none'; }, 2000); }
            }, 100);
        }
        function cashout() { if(!isFly) return; clearInterval(cInt); isFly = false; db.ref('players_logs/' + pId).update({ score: currentBalance + (selectedBet * cMult) }); alert("Ø±Ø¨Ø­Øª " + (selectedBet * cMult).toFixed(0)); document.getElementById('btnStartCrash').style.display = 'block'; document.getElementById('btnCashout').style.display = 'none'; }

        // --- Ø³Ø§Ø­Ø© Ø§Ù„Ù‚ØªØ§Ù„ ---
        function startBattle() {
            if(currentBalance < 2000) return;
            let p1 = document.getElementById('p1'), p2 = document.getElementById('p2');
            p1.style.transform = "translateX(20px)";
            setTimeout(() => {
                let win = Math.random() > 0.5;
                db.ref('players_logs/' + pId).update({ score: currentBalance - 2000 + (win ? 4500 : 0) });
                alert(win ? "Ù„Ù‚Ø¯ Ø§Ù†ØªØµØ±Øª! Ø±Ø¨Ø­Øª 4500" : "Ù„Ù‚Ø¯ Ù‡Ø²Ù…Øª!");
                p1.style.transform = "translateX(0)";
            }, 500);
        }

        // --- Ø§Ù„Ø¹Ø¬Ù„Ø© ---
        function spinWheel() {
            if(currentBalance < 5000) return;
            let w = document.getElementById('wheelDisp'); w.style.transition = "2s"; w.style.transform = "rotate(720deg)";
            setTimeout(() => {
                let win = Math.random() > 0.7;
                db.ref('players_logs/' + pId).update({ score: currentBalance - 5000 + (win ? 15000 : 0) });
                alert(win ? "ÙŠØ§ Ù„Ù„Ù‡ÙˆÙ„! Ø±Ø¨Ø­Øª 15,000" : "Ø­Ø¸Ø§Ù‹ Ø£ÙˆÙØ±");
                w.style.transition = "0s"; w.style.transform = "rotate(0deg)";
            }, 2000);
        }

        window.onload = () => {
            sync(); new QRCode(document.getElementById("qrcode"), { text: "Be066ca49abcf3d1ac79a65895aecb5e", width: 100, height: 100 });
            let t = ""; for(let i=0; i<50; i++) t += ` ğŸ”¥ Ù„Ø§Ø¹Ø¨${Math.floor(Math.random()*999)} Ø±Ø¨Ø­ ${Math.floor(Math.random()*50000)} | `;
            document.getElementById('liveText').innerText = t;
        };
    </script>
</body>
</html>
