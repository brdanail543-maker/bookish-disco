<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ù…Ù„ÙˆÙƒ Ø§Ù„Ù…Ù„ÙƒÙŠØ© ğŸ‘‘</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap');
        
        * { box-sizing: border-box; }
        body { 
            background-color: #000; 
            color: #fff; 
            font-family: 'Cairo', sans-serif; 
            margin: 0; 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
        }

        h1 { 
            font-size: 26px; 
            margin-top: 10px; 
            color: #fff; 
            text-shadow: 0 0 10px rgba(212,175,55,0.5);
        }

        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© */
        .user-card { 
            background: linear-gradient(145deg, #111, #050505); 
            border: 2px solid #d4af37; 
            border-radius: 20px; 
            padding: 25px; 
            width: 100%; 
            max-width: 400px; 
            margin-bottom: 30px; 
            text-align: center;
            box-shadow: 0 10px 30px rgba(212,175,55,0.1);
        }

        .user-name { color: #d4af37; font-size: 18px; margin-bottom: 5px; opacity: 0.9; }
        .balance-label { font-size: 14px; color: #888; margin-top: 10px; }
        .balance-value { 
            font-size: 32px; 
            font-weight: 900; 
            color: #fff; 
            display: block;
            margin-top: 5px;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ */
        .games-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 15px; 
            width: 100%; 
            max-width: 400px; 
        }

        .game-card { 
            background: #111; 
            border: 1px solid #222; 
            border-radius: 25px; 
            padding: 20px; 
            text-decoration: none; 
            color: #fff; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            transition: 0.3s;
        }

        .game-card:active { transform: scale(0.95); background: #1a1a1a; }
        
        .game-card img { 
            width: 65px; 
            height: 65px; 
            margin-bottom: 12px; 
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5));
        }

        .game-card span { font-size: 16px; font-weight: bold; }

        /* Ø§Ù„ÙƒØ±Øª Ø§Ù„Ø¹Ø±ÙŠØ¶ Ù„Ù„Ù†Ø±Ø¯ */
        .full-width { grid-column: span 2; flex-direction: row; justify-content: center; gap: 20px; }

        .footer-text { margin-top: 40px; color: #444; font-size: 12px; }
    </style>
</head>
<body>

    <h1>ğŸ† Ù…Ù†ØµØ© Ø§Ù„Ù…Ù„ÙˆÙƒ</h1>

    <div class="user-card">
        <div class="user-name">Ø§Ù„Ù„Ø§Ø¹Ø¨: <span id="pNameDisplay">...</span></div>
        <div class="balance-label">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div class="balance-value"><span id="pBalanceDisplay">0</span> ğŸ’°</div>
    </div>

    <div class="games-grid">
        <a href="wheel.html" class="game-card">
            <img src="https://cdn-icons-png.flaticon.com/512/8101/8101831.png" alt="wheel">
            <span>Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</span>
        </a>
        
        <a href="plane.html" class="game-card">
            <img src="https://cdn-icons-png.flaticon.com/512/1356/1356479.png" alt="plane">
            <span>Ø§Ù„Ø·Ø§Ø¦Ø±Ø©</span>
        </a>

        <a href="boxes.html" class="game-card full-width">
            <img src="https://cdn-icons-png.flaticon.com/512/3408/3408591.png" alt="dice">
            <span>Ø­Ø¬Ø± Ø§Ù„Ù†Ø±Ø¯ Ø§Ù„Ù…Ù„ÙƒÙŠ ğŸ²</span>
        </a>
    </div>

    <div class="footer-text">Ø¥ØµØ¯Ø§Ø± V2.0 - Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆØ­Ø¯</div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
        const firebaseConfig = { databaseURL: "https://user-project-6c3bb-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… ÙˆØªØµÙÙŠØ± Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯
        let pName = localStorage.getItem('pName');

        if (!pName) {
            pName = prompt("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ù…Ù„ÙˆÙƒ! Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¨Ø¯Ø¡:");
            if (!pName || pName.trim() === "") {
                pName = "Ù„Ø§Ø¹Ø¨_" + Math.floor(Math.random() * 9000 + 1000);
            }
            localStorage.setItem('pName', pName);
        }

        document.getElementById('pNameDisplay').innerText = pName;

        // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        const playerRef = db.ref('players_logs/' + pName);

        playerRef.on('value', (snapshot) => {
            if (!snapshot.exists()) {
                // ØªØµÙÙŠØ± Ø§Ù„Ø±ØµÙŠØ¯ Ø¹Ù†Ø¯ Ø£ÙˆÙ„ Ø¯Ø®ÙˆÙ„ (Ø¨Ø¯Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØµÙØ±)
                playerRef.set({ 
                    score: 0, 
                    lastLogin: new Date().getTime() 
                });
            } else {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶
                document.getElementById('pBalanceDisplay').innerText = snapshot.val().score.toLocaleString();
            }
        });
    </script>
</body>
</html>
