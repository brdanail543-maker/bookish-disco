<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platinum Royal | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…Ù„ÙƒÙŠØ©</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --gold: #ffca28; --green: #00ff44; --red: #ff4444; --bg: #0a0a0a; --card: #161616; }
        body { background: var(--bg); color: white; text-align: center; font-family: sans-serif; margin: 0; overflow-x: hidden; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù€ 50 Ø´Ø®Øµ Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .live-bar { background: #111; color: var(--green); padding: 5px; font-size: 11px; white-space: nowrap; overflow: hidden; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 2000; }
        .scrolling-text { display: inline-block; animation: scroll 30s linear infinite; }
        @keyframes scroll { from { transform: translateX(102%); } to { transform: translateX(-102%); } }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ø±ØµÙŠØ¯ */
        .header { background: #000; padding: 20px; border-bottom: 2px solid var(--gold); }
        #balDisp { font-size: 2.8rem; color: var(--gold); font-weight: bold; font-family: monospace; }
        .attractive-num { color: var(--green); font-size: 1.3rem; font-weight: bold; margin-top: 8px; text-shadow: 0 0 10px #00ff44; }

        /* ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .section-title { color: var(--gold); margin: 25px 0 10px; font-weight: bold; border-right: 4px solid var(--gold); padding-right: 12px; text-align: right; margin-right: 15px; }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ */
        .games-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 15px 20px; }
        .game-card { background: var(--card); border: 1px solid #333; padding: 20px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .game-card i { font-size: 40px; display: block; margin-bottom: 10px; }

        /* Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© */
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 3000; flex-direction: column; }
        .game-header { padding: 15px; background: #111; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ù‡Ø§Ù† */
        .bet-panel { background: #111; padding: 10px; display: flex; justify-content: center; gap: 8px; }
        .bet-btn { background: #222; border: 1px solid var(--gold); color: white; padding: 10px; border-radius: 8px; flex: 1; font-size: 12px; }
        .bet-btn.active { background: var(--gold); color: black; font-weight: bold; }

        /* Ø´Ø§Ù… ÙƒØ§Ø´ Ø§Ù„Ø£Ø³ÙÙ„ */
        .footer-sham { background: #000; padding: 25px; border-top: 1px solid #222; margin-top: 30px; }
    </style>
</head>
<body>

    <div class="live-bar">
        <div class="scrolling-text" id="liveText">ØªØ­Ù…ÙŠÙ„ Ù†Ø´Ø§Ø· Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†...</div>
    </div>

    <div class="header">
        <div style="color: #888; font-size: 12px;">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„ÙƒÙ„ÙŠ</div>
        <div id="balDisp">0</div>
        <div class="attractive-num">Ø§Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ: 1,500,000</div>
    </div>

    <div class="section-title">ØµØ§Ù„Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©</div>
    <div class="games-grid">
        <div class="game-card" onclick="openGame('mines')"><i>ğŸ’£</i><b>Ø§Ù„Ù…Ù†Ø¬Ù… (25)</b></div>
        <div class="game-card" onclick="openGame('crash')"><i>ğŸš€</i><b>Ø§Ù„Ø·ÙŠØ§Ø±Ø©</b></div>
        <div class="game-card" onclick="alert('Ø§Ù„Ø¹Ø¬Ù„Ø© Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©')"><i>ğŸ¡</i><b>Ø§Ù„Ø¹Ø¬Ù„Ø©</b></div>
        <div class="game-card" onclick="alert('Ø³Ø§Ø­Ø© Ø§Ù„Ù‚ØªØ§Ù„ Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©')"><i>âš”ï¸</i><b>Ø³Ø§Ø­Ø© Ø§Ù„Ù‚ØªØ§Ù„</b></div>
    </div>

    <div class="section-title">Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§</div>
    <div class="games-grid">
        <div class="game-card" style="grid-column: span 2;" onclick="checkGift()">
            <i>ğŸ</i><b>ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù€ 100K Ø§Ù„Ù…Ù„ÙƒÙŠ</b>
        </div>
    </div>

    <div class="footer-sham">
        <h3 style="color:var(--green)">SHAM CASH</h3>
        <div id="qrcode" style="background:white; padding:10px; display:inline-block; border-radius:10px; margin:10px;"></div>
        <div style="font-family:monospace; color:#888;">ID: Be066ca49abcf3d1ac79a65895aecb5e</div>
    </div>

    <div id="minesOverlay" class="overlay">
        <div class="game-header">
            <span style="color:var(--gold)">Ø§Ù„Ø±ØµÙŠØ¯: <span class="localBal">0</span></span>
            <button onclick="finishMines()" style="background:var(--green); border:none; padding:8px 15px; border-radius:5px; font-weight:bold;">Ø¥Ù†Ù‡Ø§Ø¡ ÙˆØ³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
        </div>
        <div class="bet-panel">
            <button class="bet-btn active" onclick="setBet(2000, this)">2K</button>
            <button class="bet-btn" onclick="setBet(5000, this)">5K</button>
            <button class="bet-btn" onclick="setBet(10000, this)">10K</button>
        </div>
        <div style="margin-top:20px; color:var(--gold)">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø¯ÙˆØ±: <span id="sessionProfit">0</span></div>
        <div id="mineGrid" style="display:grid; grid-template-columns:repeat(5,1fr); gap:5px; width:90%; margin:20px auto; max-width:320px;"></div>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://user-project-6c3bb-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let pId = localStorage.getItem('pId') || "PLT" + Math.floor(Math.random()*99999);
        localStorage.setItem('pId', pId);
        let currentBalance = 0;
        let selectedBet = 2000;
        let sessionEarned = 0;

        // Ø´Ø±ÙŠØ· Ø§Ù„Ù€ 50 Ù„Ø§Ø¹Ø¨
        function loadLive() {
            const names = ["Ø¹Ù„ÙŠ", "Ø£Ø­Ù…Ø¯", "Ù„ÙŠØ«", "Ø³Ø§Ø±Ø©", "ÙÙ‡Ø¯", "Ù…Ø­Ù…Ø¯", "Ù†ÙˆØ±", "ÙŠØ§Ø³ÙŠÙ†"];
            let t = "";
            for(let i=0; i<50; i++) {
                let n = names[Math.floor(Math.random()*names.length)] + Math.floor(Math.random()*99);
                t += ` ğŸ”¥ ${n} Ø³Ø­Ø¨ ${Math.floor(Math.random()*40000)} | `;
            }
            document.getElementById('liveText').innerText = t;
        }

        function sync() {
            db.ref('players_logs/' + pId).on('value', (s) => {
                if(s.exists()){
                    currentBalance = s.val().score;
                    document.getElementById('balDisp').innerText = Number(currentBalance).toLocaleString();
                    document.querySelectorAll('.localBal').forEach(e => e.innerText = Number(currentBalance).toLocaleString());
                }
            });
        }

        function setBet(a, b) {
            selectedBet = a;
            document.querySelectorAll('.bet-btn').forEach(x => x.classList.remove('active'));
            b.classList.add('active');
        }

        function openGame(id) {
            sessionEarned = 0;
            document.getElementById('sessionProfit').innerText = "0";
            document.getElementById(id + 'Overlay').style.display = 'flex';
            if(id === 'mines') initMines();
        }

        function initMines() {
            const grid = document.getElementById('mineGrid');
            grid.innerHTML = '';
            for(let i=0; i<25; i++) {
                let c = document.createElement('div');
                c.style = "aspect-ratio:1/1; background:#222; border:1px solid #444; border-radius:8px; display:flex; align-items:center; justify-content:center; cursor:pointer;";
                c.onclick = function() {
                    if(currentBalance < selectedBet) return alert("Ø§Ù„Ø±ØµÙŠØ¯ Ù…Ù†Ø®ÙØ¶!");
                    currentBalance -= selectedBet;
                    db.ref('players_logs/' + pId).update({ score: currentBalance });
                    if(Math.random() > 0.3) {
                        this.innerText = "ğŸ’"; this.style.background = "var(--gold)";
                        sessionEarned += (selectedBet * 1.25);
                        document.getElementById('sessionProfit').innerText = sessionEarned.toLocaleString();
                    } else {
                        this.innerText = "ğŸ’£"; this.style.background = "var(--red)";
                        alert("Ø®Ø³Ø±Øª Ø§Ù„Ø±Ù‡Ø§Ù†!");
                    }
                };
                grid.appendChild(c);
            }
        }

        function finishMines() {
            if(sessionEarned > 0) db.ref('players_logs/' + pId).update({ score: currentBalance + sessionEarned });
            document.getElementById('minesOverlay').style.display = 'none';
        }

        function checkGift() {
            if(currentBalance < 100000) alert("Ø§Ø´Ø­Ù† 100,000 Ø£ÙˆÙ„Ø§Ù‹!");
            else alert("Ù…Ø¨Ø±ÙˆÙƒ Ø§Ù„Ù‡Ø¯ÙŠØ©!");
        }

        window.onload = () => {
            loadLive(); sync();
            new QRCode(document.getElementById("qrcode"), { text: "Be066ca49abcf3d1ac79a65895aecb5e", width: 120, height: 120 });
        };
    </script>
</body>
</html>
