<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platinum Royal | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --gold: #ffca28; --green: #00ff44; --red: #ff4444; --bg: #0a0a0a; --card: #161616; }
        body { background: var(--bg); color: white; text-align: center; font-family: sans-serif; margin: 0; overflow-x: hidden; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù€ 50 Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .live-bar { background: #111; color: var(--green); padding: 5px; font-size: 11px; white-space: nowrap; overflow: hidden; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 2000; }
        .scrolling-text { display: inline-block; animation: scroll 30s linear infinite; }
        @keyframes scroll { from { transform: translateX(-100%); } to { transform: translateX(100%); } }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ø±ØµÙŠØ¯ */
        .header { background: #000; padding: 15px; border-bottom: 2px solid var(--gold); }
        #balDisp { font-size: 2.5rem; color: var(--gold); font-weight: bold; font-family: monospace; }
        .attractive-num { color: var(--green); font-size: 1.5rem; font-weight: bold; margin-top: 5px; text-shadow: 0 0 10px #00ff44; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .section-title { color: var(--gold); margin: 20px 0 10px; font-weight: bold; border-right: 4px solid var(--gold); padding-right: 10px; text-align: right; margin-right: 15px; }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ */
        .games-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 15px 20px; }
        .game-card { background: var(--card); border: 1px solid #333; padding: 20px; border-radius: 20px; cursor: pointer; transition: 0.3s; position: relative; }
        .game-card i { font-size: 35px; display: block; margin-bottom: 10px; }
        .lock-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); border-radius: 20px; display: none; align-items: center; justify-content: center; flex-direction: column; font-size: 12px; color: var(--red); }

        /* ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© */
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 3000; flex-direction: column; }
        .game-header { padding: 15px; background: #111; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ù‡Ø§Ù† */
        .bet-panel { background: #111; padding: 10px; display: flex; justify-content: center; gap: 8px; border-bottom: 1px solid #222; }
        .bet-btn { background: #222; border: 1px solid var(--gold); color: white; padding: 10px; border-radius: 8px; flex: 1; font-size: 12px; }
        .bet-btn.active { background: var(--gold); color: black; font-weight: bold; }

        .footer-sham { background: #000; padding: 20px; border-top: 1px solid #222; margin-top: 30px; }
    </style>
</head>
<body>

    <div class="live-bar">
        <div class="scrolling-text" id="liveText">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©...</div>
    </div>

    <div class="header">
        <div style="color: #888; font-size: 12px;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠ</div>
        <div id="balDisp">0</div>
        <div class="attractive-num" id="rollingLimit">1,500,000</div>
    </div>

    <div class="section-title">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©</div>
    <div class="games-grid">
        <div class="game-card" onclick="openGame('mines')"><i>ğŸ’£</i><b>Ø§Ù„Ù…Ù†Ø¬Ù… (25)</b></div>
        <div class="game-card" onclick="openGame('crash')"><i>ğŸš€</i><b>Ø§Ù„Ø·ÙŠØ§Ø±Ø©</b></div>
    </div>

    <div class="section-title">ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ø­Ø¸</div>
    <div class="games-grid">
        <div class="game-card" id="giftCard" onclick="checkChest()">
            <i>ğŸ</i><b>ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù€ 100K</b>
            <div id="lockOverlay" class="lock-overlay">ğŸ”’ Ø§Ø´Ø­Ù† 100,000 Ù„ÙØªØ­ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚</div>
        </div>
        <div class="game-card" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹: Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸')"><i>ğŸ¡</i><b>Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</b></div>
    </div>

    <div class="footer-sham">
        <h3 style="color: var(--gold); margin: 0;">SHAM CASH</h3>
        <div id="qrcode" style="background: white; padding: 10px; display: inline-block; border-radius: 10px; margin: 15px 0;"></div>
        <div style="font-size: 11px; color: var(--green); font-family: monospace;">ID: Be066ca49abcf3d1ac79a65895aecb5e</div>
    </div>

    <div id="minesOverlay" class="overlay">
        <div class="game-header">
            <span style="color:var(--gold)">Ø§Ù„Ø±ØµÙŠØ¯: <span class="localBal">0</span></span>
            <button onclick="finishSession('mines')" style="background:var(--green); border:none; padding:8px 15px; border-radius:5px; font-weight:bold;">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ± ÙˆØ³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
        </div>
        <div class="bet-panel">
            <button class="bet-btn active" onclick="setBet(2000, this)">2K</button>
            <button class="bet-btn" onclick="setBet(5000, this)">5K</button>
            <button class="bet-btn" onclick="setBet(10000, this)">10K</button>
        </div>
        <div id="gameContent" style="flex-grow:1; display:flex; flex-direction:column; justify-content:center;">
             <div style="color:var(--gold); margin-bottom:10px;">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø³Ø­Ø¨): <span id="sessionProfit">0</span></div>
             <div id="mineGrid" style="display:grid; grid-template-columns:repeat(5,1fr); gap:5px; width:90%; margin:auto; max-width:320px;"></div>
        </div>
    </div>

    <script>
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase ---
        const firebaseConfig = { databaseURL: "https://user-project-6c3bb-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let pId = localStorage.getItem('pId') || "PLT" + Math.floor(Math.random()*99999);
        localStorage.setItem('pId', pId);
        let currentBalance = 0;
        let selectedBet = 2000;
        let sessionEarned = 0; // Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ¶Ø§Ù Ø¥Ù„Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©

        // --- ØªÙˆÙ„ÙŠØ¯ 50 Ø´Ø®Øµ Ø¹Ù„ÙˆÙŠ ---
        function generateLive() {
            const names = ["Ø£Ø¨Ùˆ Ø§Ù„Ø¬ÙˆØ¯", "Ø§Ù„Ø¨Ø±Ù†Ø³", "Ø³Ø§Ø±Ø©", "ÙÙ‡Ø¯", "Ù„ÙŠØ«", "Ø±ÙŠØ§Ù†", "Ù…Ø­Ù…Ø¯", "Ù†ÙˆØ±"];
            let feed = "";
            for(let i=0; i<50; i++) {
                let n = names[Math.floor(Math.random()*names.length)] + " " + Math.floor(Math.random()*99);
                let action = Math.random() > 0.5 ? "Ø¥ÙŠØ¯Ø§Ø¹" : "Ø³Ø­Ø¨";
                feed += ` âš¡ ${n} Ù‚Ø§Ù… Ø¨Ù€ ${action} Ø¨Ù‚ÙŠÙ…Ø© ${Math.floor(Math.random()*50000)} SYP | `;
            }
            document.getElementById('liveText').innerText = feed;
        }

        // --- Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ---
        function sync() {
            db.ref('players_logs/' + pId).on('value', (s) => {
                if(s.exists()){
                    currentBalance = s.val().score;
                    document.getElementById('balDisp').innerText = Number(currentBalance).toLocaleString();
                    document.querySelectorAll('.localBal').forEach(e => e.innerText = Number(currentBalance).toLocaleString());
                    
                    // Ù†Ø¸Ø§Ù… Ù‚ÙÙ„ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ (100 Ø£Ù„Ù)
                    if(currentBalance < 100000) document.getElementById('lockOverlay').style.display = 'flex';
                    else document.getElementById('lockOverlay').style.display = 'none';
                }
            });
        }

        function setBet(a, btn) {
            selectedBet = a;
            document.querySelectorAll('.bet-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function openGame(id) {
            sessionEarned = 0;
            document.getElementById('sessionProfit').innerText = "0";
            document.getElementById(id + 'Overlay').style.display = 'flex';
            if(id === 'mines') initMines();
        }

        function initMines() {
            const grid = document.getElementById('mineGrid');
            grid.innerHTML = '';
            for(let i=0; i<25; i++) {
                let c = document.createElement('div');
                c.style = "aspect-ratio:1/1; background:#222; border:1px solid #444; border-radius:5px; display:flex; align-items:center; justify-content:center; cursor:pointer;";
                c.onclick = function() {
                    if(currentBalance < selectedBet) return alert("Ø§Ù„Ø±ØµÙŠØ¯ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ù„Ø±Ù‡Ø§Ù†!");
                    // Ø³Ø­Ø¨ Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù† ÙÙˆØ±Ø§Ù‹
                    currentBalance -= selectedBet;
                    db.ref('players_logs/' + pId).update({ score: currentBalance });
                    
                    if(Math.random() > 0.3) {
                        this.innerText = "ğŸ’"; this.style.background = "var(--gold)";
                        // Ø¥Ø¶Ø§ÙØ© 25% Ø±Ø¨Ø­ "Ø¯Ø§Ø®Ù„ÙŠ" Ù„Ø§ ÙŠØ¶Ø§Ù Ù„Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¢Ù†
                        sessionEarned += (selectedBet * 1.25);
                        document.getElementById('sessionProfit').innerText = sessionEarned.toLocaleString();
                    } else {
                        this.innerText = "ğŸ’£"; this.style.background = "var(--red)";
                        alert("Ø®Ø³Ø±Øª Ø§Ù„Ø±Ù‡Ø§Ù†!");
                    }
                };
                grid.appendChild(c);
            }
        }

        function finishSession(id) {
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­Ø¨ÙˆØ³Ø© Ù„Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙÙ‚Ø·
            if(sessionEarned > 0) {
                db.ref('players_logs/' + pId).update({ score: currentBalance + sessionEarned });
                alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø¯ÙˆØ± Ù„Ø±ØµÙŠØ¯Ùƒ: " + sessionEarned);
            }
            document.getElementById(id + 'Overlay').style.display = 'none';
        }

        function checkChest() {
            if(currentBalance < 100000) alert("Ø¹Ø°Ø±Ø§Ù‹! ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±ØµÙŠØ¯Ùƒ 100,000 Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„ÙØªØ­ Ù‡Ø°Ø§ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚.");
            else alert("Ù…Ø¨Ø±ÙˆÙƒ! ÙØªØ­Øª Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ ÙˆØ­ØµÙ„Øª Ø¹Ù„Ù‰ Ù‡Ø¯ÙŠØ© Ù…Ù„ÙƒÙŠØ©.");
        }

        window.onload = () => {
            generateLive();
            sync();
            new QRCode(document.getElementById("qrcode"), { text: "Be066ca49abcf3d1ac79a65895aecb5e", width: 120, height: 120 });
            // Ø±Ù‚Ù… Ù„ÙØª Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ ÙŠØªØºÙŠØ± Ù‚Ù„ÙŠÙ„Ø§Ù‹
            setInterval(() => {
                let num = 1500000 + Math.floor(Math.random()*5000);
                document.getElementById('rollingLimit').innerText = num.toLocaleString();
            }, 3000);
        };
    </script>
</body>
</html>
