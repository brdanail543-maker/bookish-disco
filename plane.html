<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aviator SYP - Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ</title>
    <style>
        :root {
            --primary: #2ecc71; --secondary: #e74c3c; --accent: #f1c40f;
            --bg: #0b0e11; --card: #1b232d;
        }
        body { background-color: var(--bg); color: white; font-family: 'Arial', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        
        #game-wrapper { width: 95%; max-width: 450px; background: var(--card); padding: 20px; border-radius: 20px; border: 1px solid #2d3844; }

        /* Ø§Ù„Ù…Ø­ÙØ¸Ø© ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .top-bar { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .wallet-box { background: #252f3a; padding: 10px 20px; border-radius: 12px; border: 1px solid var(--accent); color: var(--accent); font-weight: bold; font-size: 18px; }
        .stat-box { background: #252f3a; padding: 8px 15px; border-radius: 10px; font-size: 12px; }

        #game-screen { height: 250px; background: #0f172a; border-radius: 15px; position: relative; overflow: hidden; margin-bottom: 15px; border: 1px solid #334155; }
        #multiplier-display { position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); font-size: 50px; font-weight: 900; z-index: 5; }
        #airplane-container { position: absolute; bottom: 20px; left: 20px; z-index: 10; transition: transform 0.1s linear; }
        
        .controls { display: grid; gap: 10px; }
        .denominations { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; }
        .denom-btn { background: #334155; border: none; color: white; padding: 8px; border-radius: 5px; cursor: pointer; }
        
        .bet-input-area { display: flex; background: #252f3a; padding: 10px; border-radius: 10px; align-items: center; justify-content: center; }
        input { background: transparent; border: none; color: white; font-size: 18px; text-align: center; outline: none; width: 100px; }

        .main-btn { height: 55px; border-radius: 12px; border: none; font-size: 20px; font-weight: bold; cursor: pointer; color: white; width: 100%; }
        .btn-bet { background: var(--primary); box-shadow: 0 4px 0 #1e8449; }
        .btn-cashout { background: var(--accent); color: black; box-shadow: 0 4px 0 #b7950b; }
        
        .admin-panel { margin-top: 15px; font-size: 11px; color: #475569; text-align: center; }
    </style>
</head>
<body>

<div id="game-wrapper">
    <div class="top-bar">
        <div class="wallet-box">ğŸ¦ <span id="balance">50000</span> Ù„.Ø³</div>
        <div class="stat-box">Ø±Ø¨Ø­: <span id="winCount" style="color:var(--primary)">0</span> | Ø®Ø³Ø§Ø±Ø©: <span id="lossCount" style="color:var(--secondary)">0</span></div>
    </div>

    <div id="game-screen">
        <div id="multiplier-display">1.00x</div>
        <div id="airplane-container"><div id="airplane" style="font-size:35px;">âœˆï¸</div></div>
    </div>

    <div class="controls">
        <div class="denominations">
            <button class="denom-btn" onclick="setBet(200)">200</button>
            <button class="denom-btn" onclick="setBet(500)">500</button>
            <button class="denom-btn" onclick="setBet(2000)">2000</button>
            <button class="denom-btn" onclick="setBet(5000)">5000</button>
        </div>

        <div class="bet-input-area">
            <span>Ø§Ù„Ø±Ù‡Ø§Ù†:</span>
            <input type="number" id="betInput" value="1000">
            <span>Ù„.Ø³</span>
        </div>
        
        <button id="actionBtn" class="main-btn btn-bet" onclick="startRound()">Ø¥Ù‚Ù„Ø§Ø¹ (Ø®ØµÙ… Ø§Ù„Ø±Ù‡Ø§Ù†)</button>
    </div>

    <div class="admin-panel">
        Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©: Ù†Ø³Ø¨Ø© Ø§Ù„ÙÙˆØ² <input type="number" id="chanceRate" value="40" style="width:30px; background:none; color:gray; border:1px solid #333;"> %
    </div>
</div>

<script>
    let balance = 50000;
    let wins = 0, losses = 0, multiplier = 1.00, isPlaying = false;
    let flightInterval = null, targetCrash, currentBet = 0;

    function setBet(amount) { if(!isPlaying) document.getElementById('betInput').value = amount; }

    function startRound() {
        if(isPlaying) return;
        
        currentBet = parseInt(document.getElementById('betInput').value);
        
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø±ØµÙŠØ¯ ÙƒØ§ÙÙ
        if (currentBet > balance) {
            alert("Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ!");
            return;
        }

        // Ø®ØµÙ… Ø§Ù„Ù…Ø¨Ù„Øº ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        balance -= currentBet;
        updateUI();

        // ØªØ­Ø¯ÙŠØ¯ Ù†Ù‚Ø·Ø© Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø±
        const rate = parseInt(document.getElementById('chanceRate').value);
        targetCrash = (Math.random() * 100 < rate) ? (Math.random() * 4 + 1.8) : (Math.random() * 0.4 + 1.05);

        isPlaying = true;
        multiplier = 1.00;
        document.getElementById('multiplier-display').style.color = "white";
        document.getElementById('airplane').innerHTML = "âœˆï¸";
        
        const btn = document.getElementById('actionBtn');
        btn.innerText = "Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ (Cash Out)";
        btn.className = "main-btn btn-cashout";
        btn.onclick = cashOut;

        flightInterval = setInterval(() => {
            multiplier += 0.01;
            document.getElementById('multiplier-display').innerText = multiplier.toFixed(2) + "x";

            let progress = multiplier - 1;
            let x = Math.min(progress * 150, 350);
            let y = Math.min(Math.pow(progress, 1.5) * 80, 200);
            document.getElementById('airplane-container').style.transform = `translate(${x}px, -${y}px)`;

            if (multiplier >= targetCrash) crash();
        }, 100);
    }

    function cashOut() {
        if(!isPlaying) return;
        clearInterval(flightInterval);
        
        const winAmount = Math.floor(currentBet * multiplier);
        balance += winAmount; // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¨Ø­ Ù„Ù„Ù…Ø­ÙØ¸Ø©
        wins++;
        
        document.getElementById('winCount').innerText = wins;
        document.getElementById('multiplier-display').style.color = "var(--primary)";
        alert(`Ø£Ø­Ø³Ù†Øª! Ø±Ø¨Ø­Øª ${winAmount} Ù„.Ø³`);
        reset();
    }

    function crash() {
        clearInterval(flightInterval);
        losses++;
        document.getElementById('lossCount').innerText = losses;
        document.getElementById('multiplier-display').innerText = "Ø§Ù†ÙØ¬Ø±Øª!";
        document.getElementById('multiplier-display').style.color = "var(--secondary)";
        document.getElementById('airplane').innerHTML = "ğŸ’¥";
        
        // Ù„Ø§ ÙŠØªÙ… Ø®ØµÙ… Ø´ÙŠØ¡ Ù‡Ù†Ø§ Ù„Ø£Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø®ÙØµÙ… Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ¶Ø§Ø¹
        setTimeout(reset, 2000);
    }

    function reset() {
        isPlaying = false;
        const btn = document.getElementById('actionBtn');
        btn.innerText = "Ø¥Ù‚Ù„Ø§Ø¹ (Ø®ØµÙ… Ø§Ù„Ø±Ù‡Ø§Ù†)";
        btn.className = "main-btn btn-bet";
        btn.onclick = startRound;
        document.getElementById('airplane-container').style.transform = `translate(0,0)`;
        updateUI();
    }

    function updateUI() {
        document.getElementById('balance').innerText = balance;
    }
</script>

</body>
</html>
